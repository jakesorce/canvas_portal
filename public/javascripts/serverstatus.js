// Generated by CoffeeScript 1.6.2
(function() {
  $(function() {
    var disableButtons, reload;

    disableButtons = function() {
      return $('.button-holder button').attr({
        disabled: 'disabled'
      });
    };
    reload = function() {
      return location.reload();
    };
    $('#server_status').bPopup({
      modalClose: false,
      escClose: false
    });
    $('#canvas').bind('click', function() {
      disableButtons();
      return window.location.replace(window.location.toString().split(':')[1]);
    });
    return $('#portal').bind('click', function() {
      var confirmation;

      confirmation = confirm("Going to the portal will stop the canvas server, you will not be able to go back to canvas until you complete another action from the portal. Do you really want to do this?");
      if (confirmation) {
        disableButtons();
        return $.ajax({
          type: 'POST',
          async: false,
          url: '/apache_server/stop',
          success: function() {
            return reload();
          }
        });
      }
    });
  });

}).call(this);
